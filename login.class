package com.example.manisha.globetrottting;
import android.content.Intent;
import android.media.MediaPlayer;
import android.net.Uri;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;
import android.widget.VideoView;
public class login extends AppCompatActivity {
    private VideoView vv;
    MediaPlayer mm;
    int currentvideoposition;
    EditText t1,t2;
    Button b1;
    DatabaseHelper db=new DatabaseHelper(this);
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_login);
        t1=(EditText)findViewById(R.id.t1);
        t2=(EditText)findViewById(R.id.t2);
        b1=(Button)findViewById(R.id.b1);
        vv = (VideoView) findViewById(R.id.videoView);
        Uri uri = Uri.parse("android.resource://"+ getPackageName()+ "/"+ R.raw.main);
        vv.setVideoURI(uri);
        vv.start();
        vv.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
            @Override
            public void onPrepared(MediaPlayer mediaPlayer) {
                mm = mediaPlayer;
                mm.setLooping(true);
                if (currentvideoposition != 0) {
                    mm.seekTo(currentvideoposition);
                    mm.start();
                }
            }
        });
        b1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String email=t1.getText().toString();
                String pass=t2.getText().toString();
                Boolean emailpassword=db.emailpassword(email,pass);
                if (emailpassword==true){
                    Intent in = new Intent(login.this,mainpage.class);
                    startActivity(in);}
                else
                    Toast.makeText(getApplicationContext(),"login failed",Toast.LENGTH_LONG).show();
                }
        });
    }
}
